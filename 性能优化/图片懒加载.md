# 图片懒加载
```javascript
// document.body.scrollTop 滚动上去的高度
// window.innerHeight 浏览器视窗高度
// img.offsetTop 图片距离 body 内边距的高度
const img = document.querySelector('.img')
window.addEventListener('scroll', function () {
  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop
  var winHeight = window.innerHeight
  console.log(img.offsetTop, scrollTop + winHeight)
  if (img.offsetTop < scrollTop + winHeight) {
    img.src = img.getAttribute('data-src')
  }
})
```

```javascript
// img.getBoundingClientRect() 方法返回元素的大小及其相对于视口的位置
const img = document.querySelector('.img')
window.addEventListener('scroll', function () {
  var winHeight = window.innerHeight
  if (img.getBoundingClientRect().top < winHeight) {
    img.src = img.getAttribute('data-src')
  }
})
```