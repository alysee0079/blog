#### 时间切片

> 时间切片的本质是模拟实现 requestIdleCallback

除去“浏览器重排/重绘”，下图是浏览器一帧中可以用于执行 JS 的时机。

```javascript
一个task(宏任务) -- 队列中全部job(微任务) -- requestAnimationFrame -- 浏览器重排/重绘 -- requestIdleCallback

```
